[{"kind":1,"language":"markdown","value":"# XPath Notebook\nDate: 2021-10-02     Time: 13:44:29"},{"kind":1,"language":"markdown","value":"# Obtener información de dispositivos IoT con XPath\n\nMuestra consultas por medio de Xpath empleando la estrucutura DTD diseñada para dispositivos con sensores físicos."},{"kind":1,"language":"markdown","value":"## 1. Listar dispositivos"},{"kind":2,"language":"xpath","value":"for $device in /devices/*\nreturn\n    map {\n        \"uuid\": string($device/identification/uuid),\n        \"user\": string($device/identification/user)\n    }"},{"kind":1,"language":"markdown","value":"## 2. Sensores en dispositivo 1"},{"kind":2,"language":"xpath","value":"for $sensors in /devices/device[1]/sensor\nreturn\n    map {\n        \"type\": string($sensors/@type),\n        \"unit\": string($sensors/@unit),\n        \"dimensions\": string($sensors/@dimensions),\n        \"resolution\": concat(string($sensors/@resolution),\" bit\")  \n    }\n"},{"kind":1,"language":"markdown","value":"## 3. Obtener muestras de un acelerómetro según el atributo de su eje"},{"kind":2,"language":"xpath","value":"for $sample in /devices/device[1]/sensor[1]/sample\nreturn\n    map {\n        \"timestamp\": string($sample/@timestamp),\n        \"x\": string($sample/data[@dimension=\"1\"]),\n        \"y\": string($sample/data[@dimension=\"2\"]),\n        \"z\": string($sample/data[@dimension=\"3\"])\n    }"}]